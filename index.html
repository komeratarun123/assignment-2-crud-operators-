<html>
    <head>

        <body background="image1.jpeg"></body>
        <style>
            td {
                  text-align: center;
            }
            tr {
                  text-align: center;
            }
            form{
                text-align: center;
            }
            body{
                height: 100%;
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
            }
            .link{
                background-color:red;
            }
            .button{
                text-align: center;
            }


        </style>

    </head>
    <body>

        


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

        <div class="header-text-white bg-grey p-3">
            <h2 class="main-heading text-center mx-auto">Student's Data</h2>
        </div>
    <form>
     

    <h5>search here</h5>
        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="studentid "> &nbsp;
        <input type="text" id="myInput1" onkeyup="Name()" placeholder="Name">&nbsp;
        <input type="text" id="myInput2" onkeyup="stream()" placeholder="stream">&nbsp;
        <input type="text" id="myInput3" onkeyup="Email()" placeholder="Email">&nbsp;
        <input type="text" id="myInput4" onkeyup="marks()" placeholder="marks">&nbsp;
        
        &nbsp;
        <button type="reset" on click ="Clear()" class="btn btn-danger btn-sm clear">clear</button>



    </form>
    <div class="col-md-12 text-center">
        <button type="button" onclick="Add()" class="btn btn-info btn-lg add-new">
            <i class="fa fa-plus"></i> Add</button><br><i class="" aria-hidden="true"></i> &nbsp;
        </div>

            
            <table class="table table-striped table-bordered table-sm">
        
        

        <thead>
            <tr>
                <th scope="col"></th>
                <th>Student-Id</th>
                <th>Name</th>
                <th>Stream</th>
                <th>Email</th>
                <th>Marks</th>
                <th>Action</th>
                <th>
                    
                   
                </th>
            </tr>

        </thead>

        <tbody id="table-body">
        <tr>

            <th scope="row">1</th>
            <td>171114057</td>
            <td>Tarun</td>
            <td>ECE</td>
            <td>tarun@gmail.com</td>
            <td>95</td>
            <td>
                

                <input onclick="Edit(0)" type="button" value="Edit">&nbsp;&nbsp;
                <input onclick="Delete(0)" type="button" value="Delete">
            </td>
        </tr>
    </tbody>
    </table>




<script>
    $(document).ready(function () {
$('#table-body').DataTable();
$('.dataTables_length').addClass('bs-select');
});
    const Data = [{

        "studentid":"171114057",
        "Name": "Tarun",
        "stream": "ECE",
        "email": "tarun@gmail.com",
        "marks": "95"
    }]

    function Read(add = false, edit = false, k = 0) {
        if (add) {
            str = "";

            for (i = 0; i < Data.length; i++) {
                if (i == Data.length - 1) {
                    buttons = "<input onclick=\"Save(" + i + ")\" type=\"button\" value=\"Save\"> ";
                    
                }

                else {
                    

                    buttons = "<input onclick=\"Edit(" + i + ")\" type=\"button\" value=\"Edit\">" + 
                    "<input onclick=\"Delete(" + i + ")\"  type=\"button\" value=\"Delete\"  >";

                    
                }

                str = str + "<th scope=\"row\">" + (i + 1) + "</th><td>" +Data[i].studentid+ "</th><td>"+Data[i].Name +
                    "</td><td>" + Data[i].stream + "</td><td>" + Data[i].email +
                    "</td><td>" + Data[i].marks + "</td><td>" + buttons + "</td></tr>";
            }
        }

        else if (edit) {
            str = "";

            for (i = 0; i < Data.length; i++) {
                if (i == k) {
                    buttons = "<input onclick=\"Save(" + i + ")\" type=\"button\" value=\"Save\">";
                }
                else {
                    buttons = "<input onclick=\"Edit(" + i + ")\" type=\"button\" value=\"Edit\">" + "<input onclick=\"Delete(" + i + ")\" type=\"button\" value=\"Delete\">";
                }

                str = str + "<th scope=\"row\">" + (i + 1) + "</th><td>" +Data[i].studentid+"</th><td>"+ Data[i].Name +
                    "</td><td>" + Data[i].stream + "</td><td>" + Data[i].email +
                    "</td><td>" + Data[i].marks + "</td><td>" + buttons + "</td></tr>";
            }
        }
        else {
            str = "";


            for (i = 0; i < Data.length; i++) {
                buttons = "<input onclick=\"Edit(" + i + ")\" type=\"button\" value=\"Edit\">" + "<input onclick=\"Delete(" + i + ")\" type=\"button\" value=\"Delete\">";
                str = str + "<th scope=\"row\">" + (i + 1) + "</th><td>"+Data[i].studentid +"</th><td>"+ Data[i].Name +
                    "</td><td>" + Data[i].stream + "</td><td>" + Data[i].email +
                    "</td><td>" + Data[i].marks + "</td><td>" + buttons + "</td></tr>";
            }
        }

        document.getElementById("table-body").innerHTML = str;
    }
    Read()
    function Add() {
        Data.push({
            "studentid": "<input type=\"text\" placeholder='studentid' id='input5'>",
            "Name": "<input type=\"text\" placeholder='Name' id='input1'>",
            "stream": "<input type=\"text\" placeholder='stream' id='input2'>",
            "email": "<input type=\"text\" placeholder='Email' id='input3'>",
            "marks": "<input type=\"text\" placeholder='marks' id='input4'>"
        });
        Read(add = true);
    }

    function Edit(i) {
        Data[i] = {
            "studentid": "<input type=\"text\" placeholder='Name' id='input5' value=" + Data[i].studentid+ ">",
            "Name": "<input type=\"text\" placeholder='Name' id='input1' value=" + Data[i].Name + ">",
            "stream": "<input type=\"text\" placeholder='stream' id='input2' value=" + Data[i].stream + ">",
            "email": "<input type=\"text\" placeholder='Email' id='input3' value=" + Data[i].email + ">",
            "marks": "<input type=\"text\" placeholder='marks' id='input4' value=" + Data[i].marks + ">"
        }

        Read(add = false, edit = true, k = i)
    }

    function Delete(i) {
        Data.splice(i, 1);
        Read();
    }
    function Save(i) {
        console.log(i)
    
       
        var input1 = document.getElementById('input1').value;
        var input2 = document.getElementById('input2').value;
        var input3 = document.getElementById('input3').value;
        var input4 = document.getElementById('input4').value;
        var input5 = document.getElementById('input5').value;
        var test = {
            "studentid":input5,
            "Name": input1,
            "stream": input2,
            "email": input3,
            "marks": input4,
        }


        Data[i] = test;
        Read()
    }


    function myFunction() {
        
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("table-body");
        tr = table.getElementsByTagName("tr");

        
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function student() {
        
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput1");
        filter = input.value.toUpperCase();
        table = document.getElementById("table-body");
        tr = table.getElementsByTagName("tr");

        
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function stream() {
        
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput2");
        filter = input.value.toUpperCase();
        table = document.getElementById("table-body");
        tr = table.getElementsByTagName("tr");

        
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[2];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
    function email() {
        
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput3");
        filter = input.value.toUpperCase();
        table = document.getElementById("table-body");
        tr = table.getElementsByTagName("tr");

        
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[3];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function marks(){
        
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput4");
        filter = input.value.toUpperCase();
        table = document.getElementById("table-body");
        tr = table.getElementsByTagName("tr");

       
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[4];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function sortTable() {
  var table, rows, switching, i, x, y, shouldSwitch;
  table = document.getElementById("table-body");
  switching = true;
  
  while (switching) {
    
    switching = false;
    rows = table.rows;
    
    for (i = 1; i < (rows.length - 1); i++) {
      
      shouldSwitch = false;
      
      x = rows[i].getElementsByTagName("TD")[2];
      y = rows[i + 1].getElementsByTagName("TD")[2];
      
      if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
        
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      
      rows[i].parentNode.insertBefore(rows[i + 2], rows[i]);
      switching = true;
    }
  }
}

</script>

<footer class="footer bg-dark text-white text-center fixed-bottom pt-0.5">
    <p>"Copyright  2021 | Komera Tarun"</p>
    
</footer>


</body></html>